<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDB Sentinel APEX | Intelligence Command Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #050505; color: #e5e5e5; overflow-x: hidden; }
        .cyber-grid { background-image: radial-gradient(#1a1a1a 1px, transparent 1px); background-size: 30px 30px; }
        .glow-green { box-shadow: 0 0 20px rgba(0, 212, 170, 0.2); }
        .glow-red { box-shadow: 0 0 20px rgba(239, 68, 68, 0.3); }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .terminal-text { font-family: 'JetBrains Mono', monospace; }
        @keyframes scan { from { transform: translateY(-100%); } to { transform: translateY(100%); } }
        .scanner-line { height: 2px; background: linear-gradient(90deg, transparent, #00d4aa, transparent); animation: scan 3s linear infinite; }
        #aboutModal { display: none; }
        #aboutModal.active { display: flex; }
    </style>
</head>
<body class="cyber-grid min-h-screen">

    <nav id="top-nav" class="border-b border-white/10 bg-black/80 backdrop-blur-xl sticky top-0 z-50 transition-colors duration-500">
        <div class="max-w-7xl mx-auto px-6 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center space-x-4">
                <div class="w-10 h-10 bg-[#00d4aa] rounded flex items-center justify-center text-black font-black glow-green cursor-pointer" onclick="toggleModal(true)">CDB</div>
                <div class="border-l-2 border-[#00d4aa] pl-4">
                    <span class="font-black tracking-tighter text-lg leading-none block">CyberDudeBivash <span class="text-[#00d4aa]">Pvt. Ltd.</span></span>
                    <a href="https://www.cyberdudebivash.com" target="_blank" class="text-[9px] text-white/40 hover:text-[#00d4aa] font-bold tracking-widest uppercase transition">www.cyberdudebivash.com</a>
                </div>
            </div>
            
            <div class="hidden lg:flex items-center space-x-3 bg-white/5 border border-white/10 px-4 py-2 rounded-lg terminal-text">
                <span class="w-2 h-2 bg-[#00d4aa] rounded-full animate-pulse"></span>
                <span id="pulse-text" class="text-[10px] text-white/60 uppercase tracking-tighter">GOC-ENGINE: STANDBY...</span>
            </div>

            <div class="flex items-center space-x-6">
                <a href="mailto:support@cyberdudebivash.com" class="bg-white/5 border border-white/10 text-white/60 px-4 py-2 rounded text-[10px] font-black uppercase tracking-widest hover:bg-white hover:text-black transition">Support</a>
                <a href="https://cyberbivash.blogspot.com" target="_blank" class="bg-[#00d4aa] text-black px-4 py-2 rounded text-[10px] font-black uppercase tracking-widest hover:bg-white transition glow-green">Blog</a>
            </div>
        </div>
    </nav>

    <header class="max-w-7xl mx-auto px-6 pt-20 pb-12 text-center relative">
        <div class="scanner-line absolute inset-x-0 top-0 opacity-20 pointer-events-none"></div>
        <h1 class="text-6xl md:text-8xl font-black tracking-tighter mb-6 italic leading-[0.9]">
            AUTONOMOUS<br><span class="text-white/20 uppercase tracking-[0.2em] text-4xl md:text-6xl">Forensics.</span>
        </h1>
        <p class="max-w-2xl mx-auto text-sm text-white/40 font-medium mb-10 leading-relaxed uppercase tracking-widest">
            Enterprise Threat Orchestration • STIX 2.1 Standard • Autonomous Triage
        </p>
    </header>

    <section class="max-w-7xl mx-auto px-6 py-8 grid grid-cols-1 md:grid-cols-3 gap-6">
        <div id="status-card" class="glass p-8 rounded-2xl transition-all duration-700">
            <p class="text-white/40 font-black text-[10px] uppercase tracking-widest mb-2">Engine Status</p>
            <h3 id="engine-status" class="text-3xl font-black italic uppercase">Initializing</h3>
        </div>
        <div class="glass p-8 rounded-2xl">
            <p class="text-white/40 font-black text-[10px] uppercase tracking-widest mb-2">Data Integrity</p>
            <h3 id="total-nodes" class="text-3xl font-black">-- Nodes</h3>
        </div>
        <div id="risk-card" class="glass p-8 rounded-2xl transition-all duration-700">
            <p class="text-white/40 font-black text-[10px] uppercase tracking-widest mb-2">Risk Posture</p>
            <h3 id="risk-posture" class="text-3xl font-black italic uppercase">Scanning</h3>
        </div>
    </section>

    <section class="max-w-7xl mx-auto px-6 py-16">
        <div class="flex items-center justify-between mb-8">
            <h2 class="text-3xl font-black tracking-tighter italic border-b-4 border-[#00d4aa] pb-1">COMMAND REPOSITORY</h2>
            <span class="text-[9px] font-black text-white/20 uppercase tracking-[0.3em]">Machine-Readable OSINT</span>
        </div>
        
        <div class="glass rounded-3xl overflow-hidden shadow-2xl">
            <div class="overflow-x-auto">
                <table class="w-full text-left">
                    <thead class="bg-white/5 text-white/20 uppercase text-[9px] font-black tracking-widest">
                        <tr>
                            <th class="p-8">Forensic Node ID</th>
                            <th class="p-8">Triage Date</th>
                            <th class="p-8 text-right">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="threat-table-body" class="divide-y divide-white/5 font-medium text-sm">
                        <tr>
                            <td colspan="3" class="p-20 text-center terminal-text text-[#00d4aa]">
                                <i class="fas fa-satellite-dish animate-bounce mb-4 text-2xl"></i><br>
                                SECURE_LINK_ESTABLISHED: FETCHING DATA...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <footer class="py-16 text-center border-t border-white/5">
        <p class="text-white/20 text-[10px] font-bold uppercase tracking-[0.4em]">&copy; 2026 CYBERDUDEBIVASH PVT LTD. | DEFENSE AUTHORIZED.</p>
    </footer>

    <div id="aboutModal" class="fixed inset-0 z-[100] hidden items-center justify-center p-6 bg-black/90 backdrop-blur-md">
        <div class="glass max-w-xl w-full p-10 rounded-3xl relative">
            <button onclick="toggleModal(false)" class="absolute top-6 right-6 text-white/20 hover:text-white transition"><i class="fas fa-times"></i></button>
            <h2 class="text-3xl font-black italic mb-6">THE APEX PLATFORM</h2>
            <div class="text-white/60 text-sm space-y-4 leading-relaxed">
                <p>CyberDudeBivash Sentinel APEX is an autonomous OSINT orchestrator engineered to bridge the gap between raw advisories and actionable defense.</p>
                <p>Every node triaged by our engine is enriched with reputation scoring and formatted to STIX 2.1 specifications for seamless SIEM ingestion.</p>
            </div>
            <div class="mt-8 pt-6 border-t border-white/10 text-center">
                <a href="https://www.cyberdudebivash.com" target="_blank" class="text-[#00d4aa] text-[10px] font-black uppercase tracking-widest">Visit Corporate Portal →</a>
            </div>
        </div>
    </div>

    <script>
        const manifestUrl = 'data/stix/feed_manifest.json';
        const pulseTexts = [
            "INGESTING RSS FEEDS...",
            "EXTRACTING IOCs...",
            "VIRUSTOTAL SWEEP ACTIVE...",
            "STIX_BUNDLE GENERATED...",
            "GOC-ENGINE: OPERATIONAL"
        ];

        function toggleModal(show) {
            const m = document.getElementById('aboutModal');
            m.classList.toggle('hidden', !show);
            m.classList.toggle('flex', show);
        }

        function updatePulse() {
            const p = document.getElementById('pulse-text');
            p.innerText = pulseTexts[Math.floor(Math.random() * pulseTexts.length)];
        }

        async function initDashboard() {
            setInterval(updatePulse, 4000);
            const tableBody = document.getElementById('threat-table-body');
            
            try {
                const res = await fetch(manifestUrl);
                if(!res.ok) throw new Error();
                const data = await res.json();
                
                document.getElementById('engine-status').innerText = 'Operational';
                document.getElementById('engine-status').classList.add('text-[#00d4aa]');
                document.getElementById('total-nodes').innerText = `${data.total_nodes} Nodes`;
                
                // Adaptive Risk Logic
                const riskCard = document.getElementById('risk-card');
                const riskPosture = document.getElementById('risk-posture');
                if (data.total_nodes > 10) {
                    riskCard.classList.add('border-t-4', 'border-red-500', 'glow-red');
                    riskPosture.innerText = 'Critical';
                    riskPosture.classList.add('text-red-500');
                } else {
                    riskCard.classList.add('border-t-4', 'border-[#00d4aa]', 'glow-green');
                    riskPosture.innerText = 'Elevated';
                    riskPosture.classList.add('text-[#00d4aa]');
                }

                tableBody.innerHTML = '';
                data.files.forEach(file => {
                    const ts = file.match(/\d+/) ? parseInt(file.match(/\d+/)[0]) : Date.now()/1000;
                    const date = new Date(ts * 1000).toLocaleDateString();
                    
                    tableBody.insertAdjacentHTML('beforeend', `
                        <tr class="hover:bg-white/[0.04] transition group">
                            <td class="p-8 font-bold text-white/80 group-hover:text-[#00d4aa] transition">${file}</td>
                            <td class="p-8 text-white/20 font-mono text-xs uppercase">${date}</td>
                            <td class="p-8 text-right flex items-center justify-end space-x-4">
                                <button onclick="copyToClipboard('data/stix/${file}')" class="text-white/20 hover:text-white transition text-[10px] uppercase font-black tracking-widest">
                                    <i class="fas fa-copy mr-1"></i> Copy
                                </button>
                                <a href="data/stix/${file}" target="_blank" class="px-4 py-2 bg-white/5 hover:bg-white hover:text-black rounded text-[10px] font-black uppercase tracking-widest transition">
                                    Ingest
                                </a>
                            </td>
                        </tr>
                    `);
                });
            } catch (e) {
                tableBody.innerHTML = '<tr><td colspan="3" class="p-20 text-center text-white/20 uppercase font-black italic italic tracking-widest">Engine Standby: Awaiting Data Sync...</td></tr>';
            }
        }

        async function copyToClipboard(url) {
            try {
                const res = await fetch(url);
                const json = await res.json();
                await navigator.clipboard.writeText(JSON.stringify(json, null, 2));
                alert('STIX 2.1 JSON copied to clipboard.');
            } catch (err) {
                alert('Failed to copy. Download file instead.');
            }
        }

        window.onload = initDashboard;
    </script>
</body>
</html>
